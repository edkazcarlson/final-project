{"version":3,"sources":["Home.js","CreateStory.js","TopBar.jsx","CurrentStory.js","CompletedStoryList.jsx","CompletedStoryIndividualPage.jsx","Login.jsx","App.js","index.js"],"names":["Home","props","state","currentStory","currentStoryStatus","axios","get","then","response","data","status","console","log","setState","id","this","setCurrentInProgressStory","window","open","className","style","display","flexDirection","justifyContent","alignItems","color","href","React","Component","ydoc","Y","theme","createMuiTheme","spacing","palette","type","primary","main","secondary","CreateStory","storyLength","firstWord","frequency","e","value","preventDefault","valid","fetch","json","post","author","user","storylength","storyfirstword","trim","skip","storyType","document","querySelector","IndexeddbPersistence","_id","whenSynced","getArray","insert","word","listofwords","alert","len","target","ThemeProvider","TextField","margin","label","placeholder","variant","InputLabelProps","shrink","onChange","event","setStoryLength","setfirstWord","helperText","setFrequency","FormControl","component","FormLabel","RadioGroup","name","FormControlLabel","control","Radio","Button","fontSize","onClick","createStory","inputs","querySelectorAll","parseInt","replace","length","TopBar","useState","isLoggedIn","changeLoginStatus","jumpToPage","url","useEffect","marginBottom","map","link","key","method","yarray","currentUser","CompletedStoryList","demoStories","that","stories","forEach","ele","votes","getVotes","sort","a","b","flexWrap","story","Paper","padding","width","click","cursor","title","getFirstWords","voteCount","vote","listOfWords","firstX","index","setCurrentStory","setTimeout","CompletedStoryIndividualPage","chosenVote","isAuthor","URLSearchParams","location","search","res","contributors","d","Date","timeEnd","timeStart","dur","minHeight","minWidth","textAlign","editTitle","bind","join","marginRight","setVote","toLocaleDateString","toLocaleTimeString","Math","floor","but","contentEditable","innerText","newVotes","includes","indexOf","find","obj","push","forceUpdate","Login","isLogin","buttonClick","login","register","username","password","body","JSON","stringify","headers","redirected","errmsg","getElementById","error","toString","code","checkIfFieldsEmpty","disabled","setUsername","setPassword","rel","src","alt","height","CurrentStory","maxWords","curWordCount","isWordType","WebrtcProvider","WebsocketProvider","maxwords","observe","toArray","nextword","split","enoughEntries","skipTry","undefined","lastIndexOf","visibility","addWord","posValue","App","currentStoryID","inProgressStoryID","exact","path","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.7c8b8980.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport React from 'react';\r\nimport './App.css';\r\n\r\nexport default class Home extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            currentStory: {},\r\n            currentStoryStatus: {},\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('/getcurstory')\r\n            .then(response => {\r\n                if (response.data.status === 'nostory') {\r\n                    console.log(\"NO STORY!\");\r\n                } else {\r\n                    this.setState({\r\n                        currentStory: {}\r\n                    });\r\n                }\r\n\r\n            })\r\n    }\r\n\r\n\r\n    jumpToStory(id) {\r\n        this.props.setCurrentInProgressStory(id);\r\n        window.open('/inProgressStory', \"_self\");\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"App\" style={{\r\n                display: 'flex',\r\n                flexDirection: \"column\",\r\n                justifyContent: 'space-around',\r\n                alignItems: 'center'\r\n            }}>\r\n                <h1 className=\"title\">One Word Story</h1>\r\n                <br/>\r\n                <a style={{color: '#ba68c8'}} className=\"content\" href=\"/contribute\">Contribute</a>\r\n                <br/>\r\n                <div className=\"lowPriority\">\r\n                    ICON MADE BY ICONKING FROM WWW.FREEICONS.IO\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport axios from \"axios\"\r\nimport * as Y from 'yjs'\r\nimport './App.css';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport {createMuiTheme, ThemeProvider} from '@material-ui/core/styles';\r\nimport {IndexeddbPersistence} from 'y-indexeddb'\r\n\r\nconst ydoc = new Y.Doc()\r\n\r\nconst theme = createMuiTheme({\r\n    spacing: 8,\r\n    palette: {\r\n        type: 'dark',\r\n        primary: {\r\n            main: \"#7e57c2\", //purple\r\n        },\r\n        secondary: {\r\n            main: '#ba68c8', //green\r\n        },\r\n    },\r\n});\r\n\r\nexport default class CreateStory extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {storyLength: null, firstWord: '', frequency: ''}\r\n    }\r\n\r\n    createStory(e) {\r\n        console.log(this.state.frequency.value)\r\n        e.preventDefault();\r\n        if (this.valid()) { //validates data and sends alert if data is invalid\r\n            fetch(\"/currentUser\").then(function (response) {\r\n                return response.json()\r\n            }).then((json) => {\r\n                axios.post('/addstory', {\r\n                    author: json.user,\r\n                    storylength: this.state.storyLength,\r\n                    storyfirstword: this.state.firstWord.trim(),\r\n                    skip: this.state.frequency,\r\n                    storyType: document.querySelector('input[name=\"storyType\"]:checked').value\r\n                })\r\n                    .then(response => {\r\n                        // this allows you to instantly get the (cached) documents data\r\n                        const indexeddbProvider = new IndexeddbPersistence(response.data._id, ydoc)\r\n                        indexeddbProvider.whenSynced.then(() => {\r\n                            console.log('loaded data from indexed db: ' + response)\r\n                        })\r\n                        const yarray = ydoc.getArray(response.data._id);\r\n                        yarray.insert(0, [{word: response.data.listofwords[0], user: json.user}]);\r\n                        alert(\"Story created successfully!\");\r\n                    })\r\n            })\r\n        }\r\n    }\r\n\r\n    setStoryLength(len) {\r\n        this.setState({storyLength: len.target.value})\r\n    }\r\n\r\n    setfirstWord(e) {\r\n        this.setState({firstWord: e.target.value})\r\n    }\r\n\r\n    setFrequency(e) {\r\n        this.setState({frequency: e.target.value})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <ThemeProvider theme={theme}>\r\n                <div className=\"App\">\r\n                    <h1 className=\"subtitle\">Create Story</h1><br/>\r\n                    <form>\r\n\r\n                        <TextField style={{margin: theme.spacing(1)}} id=\"storylength\"\r\n                                   label=\"Story length\" type=\"number\" placeholder=\"Story length\"\r\n                                   variant=\"filled\" className=\"storyInput\" margin=\"normal\"\r\n                                   InputLabelProps={{shrink: true}}\r\n                                   value={this.state.storyLength}\r\n                                   onChange={(event) => {\r\n                                       this.setStoryLength(event)\r\n                                   }}/>\r\n                        <TextField style={{margin: theme.spacing(1)}} id=\"storyfirstword\"\r\n                                   label=\"First word of story\" type=\"text\" placeholder=\"First word of story\"\r\n                                   variant=\"filled\" className=\"storyInput\" margin=\"normal\"\r\n                                   InputLabelProps={{shrink: true,}}\r\n                                   value={this.state.firstWord}\r\n                                   onChange={(event) => {\r\n                                       this.setfirstWord(event)\r\n                                   }}\r\n                        /><br/>\r\n                        <TextField style={{margin: theme.spacing(1)}} id=\"skip\" label=\"Repeat frequency\" type=\"number\"\r\n                                   placeholder=\"Repeat frequency\"\r\n                                   helperText=\"How many turns users must wait before recontributing.\" variant=\"filled\"\r\n                                   className=\"storyInput\" margin=\"normal\"\r\n                                   InputLabelProps={{shrink: true,}}\r\n                                   value={this.state.frequency}\r\n                                   onChange={(event) => {\r\n                                       this.setFrequency(event)\r\n                                   }}/><br/>\r\n                        <FormControl component=\"inputlength\" margin=\"normal\">\r\n                            <FormLabel component=\"legend\">Choose how users can contribute</FormLabel>\r\n                            <RadioGroup name=\"storyType\">\r\n                                <FormControlLabel style={{color: \"rgba(255, 255, 255, 87)\"}} value=\"word\"\r\n                                                  control={<Radio/>} label=\"One word at a time\"/>\r\n                                <FormControlLabel style={{color: \"rgba(255, 255, 255, 87)\"}} value=\"phrase\"\r\n                                                  control={<Radio/>} label=\"Short phrases\"/>\r\n                            </RadioGroup>\r\n                        </FormControl><br/>\r\n                        <Button style={{fontSize: '16px'}} variant=\"contained\" onClick={(e) => {\r\n                            this.createStory(e)\r\n                        }}>Create Story</Button><br/>\r\n                    </form>\r\n                    <br/>\r\n                    <a style={{color: '#ba68c8'}} className=\"content\" href=\"/\">Return to homepage</a>\r\n                </div>\r\n            </ThemeProvider>\r\n        );\r\n    }\r\n\r\n    valid() {\r\n        const inputs = document.querySelectorAll('.storyInput');\r\n        console.log(this)\r\n        console.log(inputs)\r\n        console.log(this.state.storyLength)\r\n        const storyType = document.querySelector('input[name=\"storyType\"]:checked').value;\r\n        if (!(0 < parseInt(this.state.storyLength) && parseInt(this.state.storyLength) < 100)) { //don't need to check type, only length, because input is type number\r\n            alert(\"Please choose a story length between 0 and 100 words.\");\r\n        } else if (storyType === \"word\" && this.state.firstWord.trim() !== this.state.firstWord.replace(/ /g, '')) {\r\n            alert(\"Please enter a word or switch the story type to phrase.\")\r\n        } else if (storyType === \"phrase\" && this.state.firstWord.length > 200) {\r\n            alert(\"Please enter a phrase less than 200 characters.\")\r\n        } else if (!(0 <= parseInt(this.state.frequency) && parseInt(this.state.frequency) < parseInt(this.state.storyLength))) {\r\n            alert(\"Please choose a skip value between 0 and the maximum story length.\")\r\n        } else {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n","import React from 'react';\r\nimport './App.css';\r\nimport Button from '@material-ui/core/Button';\r\nimport {createMuiTheme, ThemeProvider} from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme({\r\n    spacing: 8,\r\n    palette: {\r\n        type: 'dark',\r\n        primary: {\r\n            main: \"#7e57c2\", //purple\r\n        },\r\n        secondary: {\r\n            main: '#ba68c8', //green\r\n        },\r\n    },\r\n});\r\n\r\nexport default function TopBar(props) {\r\n    let links = [{name: 'Home Page', url: '/'}\r\n        , {name: 'Browse Completed Stories', url: '/completedStories'}\r\n        , {name: 'Make a Story', url: '/CreateStory'}\r\n        , {name: 'Contribute', url: '/contribute'}];\r\n    const [isLoggedIn, changeLoginStatus] = React.useState(false)\r\n    React.useEffect(() => {\r\n        fetch('/currentUser').then(function (response) {\r\n            return response.json()\r\n        }).then(function (json) {\r\n            console.log(json)\r\n            changeLoginStatus(json.user !== null)\r\n        })\r\n    })\r\n\r\n    function logOut() {\r\n        fetch('/logOut', {\r\n            method: 'POST'\r\n        }).then(() => {\r\n            window.open('/', \"_self\");\r\n        })\r\n    }\r\n\r\n    function jumpToPage(url) {\r\n        window.open(url, \"_self\");\r\n    }\r\n\r\n    return (\r\n        <ThemeProvider theme={theme}>\r\n            <div className=\"TopBar\" style={{marginBottom: '10px', display: 'flex', justifyContent: 'space-between'}}>\r\n                <div>\r\n                    {links.map(function (link) {\r\n                        return (<Button\r\n                            key={link.name}\r\n                            style={{fontSize: '16px'}}\r\n                            onClick={() => {\r\n                                jumpToPage(link.url)\r\n                            }}\r\n                            variant=\"contained\">{link.name}</Button>)\r\n                    })}\r\n                </div>\r\n                {isLoggedIn ? <Button style={{fontSize: '16px'}} variant=\"contained\" onClick={logOut}>Log out</Button> :\r\n                    <Button style={{fontSize: '16px'}} variant=\"contained\" onClick={() => {\r\n                        jumpToPage('/login')\r\n                    }}>Log in</Button>}\r\n\r\n            </div>\r\n        </ThemeProvider>\r\n    );\r\n}\r\n","import axios from 'axios';\r\nimport React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport {createMuiTheme, ThemeProvider} from '@material-ui/core/styles';\r\nimport * as Y from 'yjs'\r\nimport {WebrtcProvider} from 'y-webrtc'\r\nimport {WebsocketProvider} from 'y-websocket'\r\nimport {IndexeddbPersistence} from 'y-indexeddb'\r\n\r\nconst ydoc = new Y.Doc()\r\nlet yarray\r\nlet currentUser\r\n\r\nconst theme = createMuiTheme({\r\n    spacing: 8,\r\n    palette: {\r\n        type: 'dark',\r\n        primary: {\r\n            main: \"#7e57c2\", //purple\r\n        },\r\n        secondary: {\r\n            main: '#ba68c8', //green\r\n        },\r\n    },\r\n});\r\n\r\nexport default class CurrentStory extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            listOfWords: [],\r\n            maxWords: -1,\r\n            title: '',\r\n            id: -1,\r\n            curWordCount: 0,\r\n            isWordType: null,\r\n            contributors: null,\r\n            skip: 0\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(\"/currentUser\").then(function (response) {\r\n            return response.json()\r\n        }).then(function (json) {\r\n            currentUser = json.user\r\n        })\r\n        axios.get('/getcurstory')\r\n            .then(res => {\r\n                if (res.data.status === \"nostory\") {\r\n                    window.open('/createstory', \"_self\");\r\n                } else {\r\n                    this.setState({isWordType: res.data.storyType === 'word'})\r\n                    // this allows you to instantly get the (cached) documents data\r\n                    const indexeddbProvider = new IndexeddbPersistence(res.data._id, ydoc)\r\n                    indexeddbProvider.whenSynced.then(() => {\r\n                        console.log('loaded data from indexed db')\r\n                    })\r\n                    // Sync clients with the y-webrtc provider.\r\n                    const webrtcProvider = new WebrtcProvider(res.data._id, ydoc)\r\n                    // Sync clients with the y-websocket provider\r\n                    const websocketProvider = new WebsocketProvider(\r\n                        'wss://demos.yjs.dev', res.data._id, ydoc\r\n                    )\r\n                    yarray = ydoc.getArray(res.data._id)\r\n                    this.setState({\r\n                        listOfWords: res.data.listofwords,\r\n                        maxWords: res.data.maxwords,\r\n                        title: res.data.title,\r\n                        id: res.data._id,\r\n                        curWordCount: res.data.listofwords.length,\r\n                        contributors: res.data.contributors,\r\n                        skip: res.data.skip\r\n                    });\r\n                }\r\n                //called when yarray is modified\r\n                yarray.observe(event => {\r\n                    console.log(\"CONTRIBUTORS: \", yarray.toArray().map(a => a.user))\r\n                    this.setState({\r\n                        listOfWords: yarray.toArray().map(a => a.word),\r\n                        curWordCount: yarray.toArray().length,\r\n                        contributors: yarray.toArray().map(a => a.user)\r\n                    }, function () {\r\n                        if (this.state.maxWords == yarray.length) {\r\n                            alert(\"Story is complete!\");\r\n                            window.open('/', '_self');\r\n                        } else {\r\n                            console.log(yarray.toArray());\r\n                        }\r\n                    });\r\n                });\r\n            })\r\n    }\r\n\r\n    addWord(e) {\r\n        e.preventDefault();\r\n        const nextword = document.querySelector('#nextword').value.trim();\r\n        if (nextword.split(' ').length > 1 && this.state.isWordType) {\r\n            alert('Cannot upload multiple words for this story');\r\n        } else if (!this.enoughEntries()) {\r\n            alert(\"Wait your turn!\");\r\n        } else {\r\n            yarray.push([{word: nextword, user: currentUser}]);\r\n            document.querySelector('#nextword').value = '';\r\n            axios.post('/addword', {\r\n                'id': this.state.id,\r\n                'word': nextword,\r\n                'contributors': yarray.toArray().map(a => a.user)\r\n            })\r\n                .then(response => {\r\n                    console.log(\"Pushed new word to database\")\r\n                })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let skipTry = 0;\r\n        if (yarray !== undefined) {\r\n            skipTry = (yarray.toArray().map(a => a.user).lastIndexOf(currentUser) === -1) ? 0 : this.state.skip - (yarray.length - yarray.toArray().map(a => a.user).lastIndexOf(currentUser) - 1);\r\n            console.log(\"Length\", yarray.length)\r\n            console.log(\"last index\", yarray.toArray().map(a => a.user).lastIndexOf(currentUser))\r\n            console.log(\"Skip: \", this.state.skip)\r\n            console.log(\"skipTry: \", skipTry);\r\n        }\r\n        return (\r\n            <div style={{display: \"flex\", flexDirection: \"column\", alignItems: \"center\", justifyContent: \"center\"}}>\r\n                <h1 className=\"title\">{this.state.title}</h1>\r\n                <ThemeProvider theme={theme}>\r\n                    <div className=\"subtitle\">\r\n                        {this.state.listOfWords.map(word => (\r\n                            <span>{word} </span>\r\n                        ))}\r\n                        <br/>\r\n                        <form>\r\n                            <TextField style={{margin: theme.spacing(1)}} id=\"nextword\"\r\n                                       label=\"Next input\" type=\"text\" placeholder=\"enter a word or phrase\"\r\n                                       variant=\"filled\" margin=\"normal\" InputLabelProps={{shrink: true}}\r\n                            />\r\n                            <input style={{visibility: 'hidden', height: '0px', width: '0px'}} type=\"submit\"\r\n                                   onClick={this.addWord.bind(this)}/>\r\n                        </form>\r\n                        <br/>\r\n                        <h2 className=\"content\">{(yarray !== undefined) ? ((skipTry < 0) ? 0 : skipTry) : \"\"} more users\r\n                            must contribute before you can.</h2>\r\n                        <h2 className=\"lowPriority\">THERE\r\n                            ARE {this.state.maxWords - this.state.curWordCount} {this.state.isWordType ? 'WORDS' : 'PHRASES'} REMAINING.</h2>\r\n                    </div>\r\n                </ThemeProvider>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    enoughEntries() {\r\n        //needs to cycle through current contributor list and see how many non-current users are at the end of the list\r\n        let posValue = (yarray.toArray().map(a => a.user).lastIndexOf(currentUser) === -1) ? 0 : this.state.skip - (yarray.length - yarray.toArray().map(a => a.user).lastIndexOf(currentUser) - 1);\r\n        console.log(\"Length\", yarray.length)\r\n        console.log(\"last index\", yarray.toArray().map(a => a.user).lastIndexOf(currentUser))\r\n        console.log(this.state.skip)\r\n        console.log(\"posValue: \", posValue);\r\n        //return true if this value is array length or >= skip\r\n        return (posValue <= 0);\r\n    }\r\n}","import React from 'react'\r\nimport './App.css';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport {createMuiTheme, ThemeProvider} from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme({\r\n    spacing: 8,\r\n    palette: {\r\n        type: 'dark',\r\n        primary: {\r\n            main: \"#7e57c2\", //purple\r\n        },\r\n        secondary: {\r\n            main: '#ba68c8', //green\r\n        },\r\n    },\r\n});\r\n\r\nexport default class CompletedStoryList extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            demoStories: []\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        let that = this;\r\n        fetch(\"/getallcompleted\").then(function (response) {\r\n            return response.json()\r\n        })\r\n            .then(function (json) {\r\n                json.stories.forEach((ele) => {\r\n                    console.log(ele)\r\n                    console.log(ele.votes)\r\n                    ele.votes = that.getVotes(ele.votes)\r\n                    console.log(ele.votes)\r\n                });\r\n                json.stories.sort((a, b) => b.votes - a.votes);\r\n                that.setState({\r\n                    demoStories: json.stories\r\n                });\r\n            })\r\n        // that.setState({\r\n        //     demoStories : [{votes: 1, _id: 1, title: 'demoTitle'}]\r\n        // });\r\n    }\r\n\r\n    render() {\r\n        return (<ThemeProvider theme={theme}>\r\n            <div style={{display: \"flex\", flexDirection: \"column\", alignItems: \"center\", flexWrap: \"wrap\"}}>\r\n                <h1 className=\"title\">Completed Stories</h1>\r\n                {this.state.demoStories.map((story) => {\r\n                    return (<Paper style={{margin: theme.spacing(1), padding: theme.spacing(2), width: 400}}\r\n                                   onClick={() => this.click(story._id)}>\r\n                        <div style={{cursor: 'pointer'}}>\r\n                            <div className=\"subtitle\">{story.title}</div>\r\n                            <div className=\"lowPriority\">{`${story.votes} VOTES`}</div>\r\n                        </div>\r\n                        <div className=\"content\">{this.getFirstWords(story.listofwords)}</div>\r\n                    </Paper>)\r\n                })}\r\n            </div>\r\n        </ThemeProvider>)\r\n    }\r\n\r\n    //assumes that vote objects in the votes array have a value field\r\n    getVotes(votes) {\r\n        let voteCount = 0;\r\n        for (const vote in votes) {\r\n            voteCount += votes[vote].value;\r\n        }\r\n        return voteCount;\r\n    }\r\n\r\n    getFirstWords(listOfWords) {\r\n        let firstX = \"\";\r\n        listOfWords.forEach((ele, index) => {\r\n            if (index < 3) {\r\n                firstX += `${ele} `;\r\n            } else if (index === 3) {\r\n                firstX += '...'\r\n            }\r\n        })\r\n        return firstX\r\n    }\r\n\r\n\r\n    click(id) {\r\n        this.props.setCurrentStory(id);\r\n        setTimeout(() => window.open('/completeStory?id=' + id, \"_self\"), 10);\r\n    }\r\n\r\n\r\n}\r\n","import React from 'react'\r\nimport axios from \"axios\"\r\nimport {IndexeddbPersistence} from \"y-indexeddb\";\r\nimport * as Y from \"yjs\";\r\nimport './App.css';\r\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\r\nimport ThumbDownIcon from '@material-ui/icons/ThumbDown';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport {createMuiTheme, ThemeProvider} from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme({\r\n    spacing: 8,\r\n    palette: {\r\n        type: 'dark',\r\n        primary: {\r\n            main: \"#7e57c2\", //purple\r\n        },\r\n        secondary: {\r\n            main: '#ba68c8', //green\r\n        },\r\n    },\r\n});\r\n\r\nexport default class CompletedStoryIndividualPage extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            story: null,\r\n            chosenVote: null,\r\n            isAuthor: false,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        let that = this;\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        const _id = urlParams.get('id');\r\n        axios.post('/getbyID', {_id}).then(function (response) {\r\n            const ydoc = new Y.Doc()\r\n            const indexeddbProvider = new IndexeddbPersistence(response.data._id, ydoc)\r\n            indexeddbProvider.whenSynced.then(() => {\r\n                console.log(response.data.story)\r\n                that.setState({\r\n                    story: response.data.story\r\n                });\r\n                fetch(\"/currentUser\").then(function (res) {\r\n                    return res.json()\r\n                }).then((json) => {\r\n                    return json.user\r\n                })\r\n                    .then((id) => {\r\n                        if (id == response.data.story.contributors[0]) {\r\n                            that.setState({\r\n                                isAuthor: true\r\n                            })\r\n                        }\r\n                        response.data.story.votes.forEach((ele) => {\r\n                            if (ele.id === id) {\r\n                                that.setState({chosenVote: ele.value});\r\n                            }\r\n                        })\r\n                    })\r\n\r\n                console.log(that.state)\r\n            })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.story != null) {\r\n            const d = new Date(this.state.story.timeEnd)\r\n            console.log(this.state.story.timeEnd - this.state.story.timeStart)\r\n            const dur = this.state.story.timeEnd - this.state.story.timeStart\r\n            return (\r\n                <div style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\r\n                    <ThemeProvider theme={theme}>\r\n                        <Paper style={{\r\n                            minHeight: 400,\r\n                            minWidth: 400,\r\n                            padding: theme.spacing(2),\r\n                            display: 'flex',\r\n                            flexDirection: \"column\",\r\n                            flexWrap: \"wrap\"\r\n                        }}>\r\n                            <div>\r\n                                <h1 className=\"title\" id=\"title\" style={{\r\n                                    textAlign: 'center',\r\n                                    color: 'white'\r\n                                }}>{this.state.story.title}</h1>{this.state.isAuthor ?\r\n                                <Button id=\"editTitle\" variant=\"contained\" onClick={this.editTitle.bind(this)}>edit\r\n                                    title</Button> : null}\r\n                                <p style={{color: 'white'}}>{this.state.story.listofwords.join(' ') + '.'}</p>\r\n                            </div>\r\n                            <div style={{marginRight: '10px'}}>\r\n                                <ThumbUpIcon\r\n                                    style={{color: this.state.chosenVote === 1 ? theme.palette.secondary.main : 'white'}}\r\n                                    onClick={() => this.setVote(1)}/>\r\n                                <ThumbDownIcon\r\n                                    style={{color: this.state.chosenVote === -1 ? theme.palette.secondary.main : 'white'}}\r\n                                    onClick={() => this.setVote(-1)}/>\r\n                                <p className=\"lowPriority\">Points: {this.getVotes(this.state.story.votes)}</p>\r\n                                <p className=\"lowPriority\">Author: {this.state.story.contributors[0]}</p>\r\n                                <p className=\"lowPriority\">Story Type: {this.state.story.storyType}</p>\r\n                                <em className=\"lowPriority\">Finished {d.toLocaleDateString()} at {d.toLocaleTimeString()} </em>\r\n                                <br/>\r\n                                <em className=\"lowPriority\">Took\r\n                                    {Math.floor(dur / 3600000) > 0 ? (Math.floor(dur / 3600000) + 'hour' + ((Math.floor(dur / 3600000) == 1) ? \"\" : \"s\")) : ''} {Math.floor(dur / 60000) % 60} minute{(Math.floor(dur / 60000) % 60 == 1) ? \"\" : \"s\"} to\r\n                                    complete.</em>\r\n                            </div>\r\n                        </Paper>\r\n                    </ThemeProvider>\r\n                </div>\r\n            )\r\n        }\r\n        return null;\r\n    }\r\n\r\n    editTitle(e) {\r\n        e.preventDefault();\r\n        const but = document.querySelector('#editTitle');\r\n        console.log(but.value, but.value == 'edit title')\r\n        if (but.value == 'edit title') {\r\n            but.value = 'save';\r\n            document.querySelector('#title').contentEditable = true;\r\n        } else {\r\n            but.value = 'edit title';\r\n            axios.post('/edittitle', {title: document.querySelector('#title').innerText, _id: this.state.story._id})\r\n                .then(res => {\r\n                    console.log(\"EDITED!\");\r\n                })\r\n            document.querySelector('#title').contentEditable = false;\r\n        }\r\n    }\r\n\r\n    setVote(vote) {\r\n        //where vote is -1, 0, or 1\r\n        console.log(this.state.chosenVote)\r\n        console.log(vote)\r\n        if (this.state.chosenVote === vote) {\r\n            this.setState({chosenVote: 0})\r\n            vote = 0;\r\n        } else {\r\n            this.setState({chosenVote: vote});\r\n        }\r\n        console.log(\"Voting!\")\r\n        let that = this;\r\n        let newVotes = that.state.story.votes;\r\n        fetch(\"/currentUser\").then(function (response) {\r\n            return response.json()\r\n        }).then(function (json) {\r\n            if (!newVotes.map(a => a.id).includes(json.user)) {\r\n                that.state.story.votes.push({id: json.user, value: vote});\r\n            } else {\r\n                that.state.story.votes[that.state.story.votes.indexOf(that.state.story.votes.find(obj => obj.id === json.user))] = {\r\n                    id: json.user,\r\n                    value: vote\r\n                };\r\n            }\r\n            console.log(that.state.story.votes);\r\n            axios.post('/changeVote', {\r\n                _id: that.state.story._id,\r\n                votes: that.state.story.votes\r\n            }).then(response => {\r\n                that.forceUpdate();\r\n                console.log(\"reached here\");\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n    //assumes that vote objects in the votes array have a value field alongside an id field\r\n    getVotes(votes) {\r\n        let voteCount = 0;\r\n        for (const vote in votes) {\r\n            voteCount += votes[vote].value;\r\n        }\r\n        return voteCount;\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport './App.css';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport {createMuiTheme, ThemeProvider} from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme({\r\n    spacing: 8,\r\n    palette: {\r\n        type: 'dark',\r\n        primary: {\r\n            main: \"#7e57c2\", //purple\r\n        },\r\n        secondary: {\r\n            main: '#ba68c8', //green\r\n        },\r\n    },\r\n});\r\n\r\nexport class Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.isLogin) {\r\n            this.buttonClick = (e) => {\r\n                this.login(e)\r\n            };\r\n        } else {\r\n            this.buttonClick = (e) => {\r\n                this.register(e)\r\n            };\r\n        }\r\n\r\n        this.state = {username: \"\", password: \"\"}\r\n    }\r\n\r\n    login(e) {\r\n        console.log('login page button clicked')\r\n        console.log(this)\r\n        // prevent default form action from being carried out\r\n        e.preventDefault()\r\n\r\n        const username = this.state.username;\r\n        const pass = this.state.password;\r\n        let json = {\r\n            username: username,\r\n            password: pass\r\n        };\r\n        let body = JSON.stringify(json);\r\n\r\n        fetch('/login', {\r\n            method: 'POST',\r\n            body: body,\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n            .then(function (response) {\r\n                if (response.redirected === true) {\r\n                    window.open(response.url, \"_self\")\r\n                } else {\r\n                    return response.json()\r\n                }\r\n\r\n            })\r\n            .then(function (json) {\r\n                let errmsg = document.getElementById('errormsg');\r\n                if (json.error.toString() === 'password') {\r\n                    errmsg.innerText = \"Password Incorrect\"\r\n                } else { //username not found\r\n                    errmsg.innerText = \"Username not found\"\r\n                }\r\n            })\r\n\r\n        return false;\r\n    }\r\n\r\n    register(e) {\r\n        console.log('register page button clicked')\r\n\r\n        // prevent default form action from being carried out\r\n        e.preventDefault()\r\n\r\n        const username = this.username;\r\n        const pass = this.password;\r\n        let json = {\r\n            username: username,\r\n            password: pass\r\n        };\r\n        let body = JSON.stringify(json);\r\n\r\n        fetch('/register', {\r\n            method: 'POST',\r\n            body: body,\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n            .then(function (response) {\r\n                return response.json()\r\n            })\r\n            .then(function (json) {\r\n                if (json.code === 'found') {\r\n                    alert('This username already exists')\r\n                } else {\r\n                    window.open('/', \"_self\")\r\n                }\r\n            })\r\n\r\n        return false;\r\n\r\n    }\r\n\r\n    setUsername(e) {\r\n        this.setState({username: e.target.value});\r\n        this.checkIfFieldsEmpty();\r\n    }\r\n\r\n    setPassword(e) {\r\n        this.setState({password: e.target.value});\r\n        this.checkIfFieldsEmpty();\r\n    }\r\n\r\n    checkIfFieldsEmpty() {\r\n        //const inputs = document.querySelectorAll('.loginField');\r\n        //for (let i = 0; i < inputs.length; i++) {\r\n        //if (inputs[i].value === '') {\r\n        //document.querySelector('#signin').disabled = true\r\n        // return true\r\n        // }\r\n        // }\r\n        if (this.username === '' || this.password === '') {\r\n            document.querySelector('#signin').disabled = true\r\n            return true;\r\n        }\r\n        document.querySelector('#signin').disabled = false\r\n        return false;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <ThemeProvider theme={theme}>\r\n                <div style={{display: 'flex', justifyContent: 'space-around', alignItems: 'center'}}>\r\n                    <p id=\"errormsg\"/>\r\n                    <div className=\"container\" style={{\r\n                        \"margin\": \"10px\",\r\n                        display: 'flex',\r\n                        justifyContent: 'space-around',\r\n                        alignItems: 'center'\r\n                    }}>\r\n                        <div>\r\n                            <p id=\"errormsg\"/>\r\n                            <TextField style={{margin: theme.spacing(1)}} id=\"username\"\r\n                                       label=\"Username\" type=\"text\" placeholder=\"Username\"\r\n                                       variant=\"filled\" className=\"loginField\" margin=\"normal\"\r\n                                       InputLabelProps={{shrink: true}}\r\n                                       value={this.state.username}\r\n                                       onChange={(event) => {\r\n                                           this.setUsername(event)\r\n                                       }}/>\r\n                            <br/>\r\n                            <TextField style={{margin: theme.spacing(1)}} id=\"password\"\r\n                                       label=\"Password\" type=\"password\" placeholder=\"Password\"\r\n                                       variant=\"filled\" className=\"loginField\" margin=\"normal\"\r\n                                       InputLabelProps={{shrink: true}}\r\n                                       value={this.state.password}\r\n                                       onChange={(event) => {\r\n                                           this.setPassword(event)\r\n                                       }}/>\r\n                            <br/>\r\n                            <Button style={{margin: theme.spacing(1)}} id='signin' onClick={this.buttonClick}\r\n                                    variant=\"contained\">{this.props.isLogin ? \"Login\" : \"Signup\"}</Button>\r\n\r\n                            {this.props.isLogin ? (<div>\r\n                                <p className=\"lowPriority\">DON'T HAVE AN ACCOUNT?</p>\r\n                                <a style={{color: '#ba68c8'}} href=\"/register\">\r\n                                    <p className=\"content\">\r\n                                        Sign Up\r\n                                    </p>\r\n\r\n                                </a>\r\n                            </div>) : \"\"}\r\n                            <div className=\"lowPriority\"><p>OR LOG IN WITH</p></div>\r\n                            <div style={{justifyContent: 'center'}}>\r\n                                <a href=\"/auth/github\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                    <img src=\"img/GitHub_Logo_White.png\" alt=\"GitHub logo\"\r\n                                         style={{width: 250, height: 100}}/>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </ThemeProvider>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login\r\n","import React from 'react';\r\nimport './App.css';\r\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\r\nimport Home from './Home'\r\nimport CreateStory from './CreateStory'\r\nimport TopBar from './TopBar'\r\nimport CompletedStoryList from './CompletedStoryList'\r\nimport CompletedStoryIndividualPage from './CompletedStoryIndividualPage';\r\nimport Login from './Login'\r\nimport CurrentStory from './CurrentStory'\r\n\r\nexport default class App extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {currentStoryID: -1, inProgressStoryID: -1}\r\n        this.setCurrentStory = this.setCurrentStory.bind(this);\r\n        this.setCurrentInProgressStory = this.setCurrentInProgressStory.bind(this);\r\n    }\r\n\r\n    setCurrentStory = (id) => {\r\n        this.setState({currentStoryID: id});\r\n    }\r\n    setCurrentInProgressStory = (id) => {\r\n        this.setState({inProgressStoryID: id})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Router>\r\n                <TopBar/>\r\n                <Route exact path='/'>\r\n                    <Home setCurrentInProgressStory={this.setCurrentInProgressStory}/>\r\n                </Route>\r\n                <Route exact path=\"/login\">\r\n                    <Login\r\n                        isLogin={true}/>\r\n                </Route>\r\n                <Route path=\"/register\">\r\n                    <Login\r\n                        isLogin={false}/>\r\n                </Route>\r\n                <Route path='/createstory'>\r\n                    <CreateStory/>\r\n                </Route>\r\n                <Route path='/contribute'>\r\n                    <CurrentStory/>\r\n                </Route>\r\n                <Route path='/completedStories'>\r\n                    <CompletedStoryList\r\n                        setCurrentStory={this.setCurrentStory}\r\n                        id={this.state.currentStoryID}/>\r\n                </Route>\r\n                <Route path='/completeStory'>\r\n                    <CompletedStoryIndividualPage\r\n                        id={this.state.currentStoryID}/>\r\n                </Route>\r\n            </Router>)\r\n    }\r\n\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <App/>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}